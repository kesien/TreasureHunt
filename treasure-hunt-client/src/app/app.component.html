<div class="min-h-screen bg-gray-50">
  @if (showNavigation) {
    <nav class="bg-white shadow-sm border-b sticky top-0 z-50">
      <div class="px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex">
            <div class="flex-shrink-0 flex items-center">
              <button
                (click)="navigateToHome()"
                class="flex items-center space-x-2 text-treasure-600 hover:text-treasure-700 transition-colors"
              >
                <i class="mdi mdi-home text-3xl"></i>
                <span class="hidden sm:block font-heading font-semibold text-lg">{{ title }}</span>
              </button>
            </div>

            <div class="hidden md:ml-8 md:flex md:space-x-8">
              @if (isAdmin) {
                <ng-container>
                  <a
                    routerLink="/admin/dashboard"
                    [class.border-treasure-500]="isRouteActive('/admin/dashboard')"
                    [class.text-gray-900]="isRouteActive('/admin/dashboard')"
                    [class.text-gray-500]="!isRouteActive('/admin/dashboard')"
                    class="border-transparent hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors"
                  >
                    <i class="mdi mdi-home mr-2 text-lg"></i>
                    Irányítópult
                  </a>
                  <a
                    routerLink="/admin/events"
                    [class.border-treasure-500]="isRouteActive('/admin/events')"
                    [class.text-gray-900]="isRouteActive('/admin/events')"
                    [class.text-gray-500]="!isRouteActive('/admin/events')"
                    class="border-transparent hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors"
                  >
                    <i class="mdi mdi-calendar mr-2 text-lg"></i>
                    Események
                  </a>
                </ng-container>
              } @if (isTeam) {
              <ng-container>
                <a
                  routerLink="/team/dashboard"
                  [class.border-treasure-500]="isRouteActive('/team/dashboard')"
                  [class.text-gray-900]="isRouteActive('/team/dashboard')"
                  [class.text-gray-500]="!isRouteActive('/team/dashboard')"
                  class="border-transparent hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors"
                >
                  <i class="mdi mdi-progress-clock mr-2 text-lg"></i>
                  Előrehaladás
                </a>
                <a
                  routerLink="/team/map"
                  [class.border-treasure-500]="isRouteActive('/team/map')"
                  [class.text-gray-900]="isRouteActive('/team/map')"
                  [class.text-gray-500]="!isRouteActive('/team/map')"
                  class="border-transparent hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors"
                >
                  <i class="mdi mdi-map mr-2 text-lg"></i>
                  Térkép
                </a>
                <a
                  routerLink="/team/photos"
                  [class.border-treasure-500]="isRouteActive('/team/photos')"
                  [class.text-gray-900]="isRouteActive('/team/photos')"
                  [class.text-gray-500]="!isRouteActive('/team/photos')"
                  class="border-transparent hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors"
                >
                  <i class="mdi mdi-camera mr-2 text-lg"></i>
                  Fotók
                </a>
              </ng-container>
            }
            </div>
          </div>

          <div class="flex items-center">
            <div class="hidden md:block mr-4 text-right">
              @if (isAdmin) {
                <div class="text-sm font-medium text-gray-900">Admin</div>
              } @if (isTeam) {
              <div class="text-sm">
                <div class="font-medium text-gray-900">{{ teamName }}</div>
                <div class="text-xs text-gray-500">{{ eventName }}</div>
              </div>
            }
            </div>

            <button
              (click)="logout()"
              class="hidden btn-danger md:inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-treasure-500 transition-colors"
            >
              <i class="mdi mdi-logout mr-2"></i>
              Kijelentkezés
            </button>

            <button
              (click)="toggleMobileMenu()"
              class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-treasure-500"
            >
              @if (mobileMenuOpen) {
                <i class="mdi mdi-close text-2xl"></i>
              } @else {
                <i class="mdi mdi-menu text-2xl"></i>
              }
            </button>
          </div>
        </div>
      </div>

      @if (mobileMenuOpen) {
        <div class="md:hidden">
          <div class="pt-2 pb-3 space-y-1 bg-gray-50 border-t">
            @if (isAdmin) {

              <ng-container>
                <a
                  routerLink="/admin/dashboard"
                  [class.bg-treasure-50]="isRouteActive('/admin/dashboard')"
                  [class.border-treasure-500]="isRouteActive('/admin/dashboard')"
                  [class.text-treasure-700]="isRouteActive('/admin/dashboard')"
                  class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors"
                >
                  <div class="flex items-center">
                    <i class="mdi mdi-flash mr-3"></i>
                    Irányítópult
                  </div>
                </a>
                <a
                  routerLink="/admin/events"
                  [class.bg-treasure-50]="isRouteActive('/admin/events')"
                  [class.border-treasure-500]="isRouteActive('/admin/events')"
                  [class.text-treasure-700]="isRouteActive('/admin/events')"
                  class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors"
                >
                  <div class="flex items-center">
                    <i class="mdi mdi-calendar mr-3"></i>
                    Események
                  </div>
                </a>
              </ng-container>
            } @if (isTeam) {
            <ng-container>
              <a
                routerLink="/team/dashboard"
                [class.bg-treasure-50]="isRouteActive('/team/dashboard')"
                [class.border-treasure-500]="isRouteActive('/team/dashboard')"
                [class.text-treasure-700]="isRouteActive('/team/dashboard')"
                class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors"
              >
                <div class="flex items-center">
                  <i class="mdi mdi-flash mr-3"></i>
                  Előrehaladás
                </div>
              </a>
              <a
                routerLink="/team/map"
                [class.bg-treasure-50]="isRouteActive('/team/map')"
                [class.border-treasure-500]="isRouteActive('/team/map')"
                [class.text-treasure-700]="isRouteActive('/team/map')"
                class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors"
              >
                <div class="flex items-center">
                  <i class="mdi mdi-map mr-3"></i>
                  Térkép
                </div>
              </a>
              <a
                routerLink="/team/photos"
                [class.bg-treasure-50]="isRouteActive('/team/photos')"
                [class.border-treasure-500]="isRouteActive('/team/photos')"
                [class.text-treasure-700]="isRouteActive('/team/photos')"
                class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors"
              >
                <div class="flex items-center">
                  <i class="mdi mdi-camera mr-3"></i>
                  Fotók
                </div>
              </a>
            </ng-container>
          }

            <div class="pt-4 pb-3 border-t border-gray-200">
              <div class="px-4">
                @if (isAdmin) {
                  <div class="text-base font-medium text-gray-800">Admin</div>
                } @if (isTeam) {
                <div>
                  <div class="text-base font-medium text-gray-800">{{ teamName }}</div>
                  <div class="text-sm text-gray-500">{{ eventName }}</div>
                </div>
              }
              </div>
              <div class="mt-3 px-2">
                <button (click)="logout()" class="btn-danger w-full flex items-center px-3 py-2 text-base font-medium rounded-md transition-colors">
                  <i class="mdi mdi-logout mr-3"></i>
                  Kijelentkezés
                </button>
              </div>
            </div>
          </div>
        </div>
      }
    </nav>
  }

  <main class="flex-1">
    <router-outlet></router-outlet>
  </main>
</div>
